@startuml Database-Schema
!theme aws-orange
title üóÑÔ∏è Esquema de Base de Datos - Foro T√©cnico

skinparam backgroundColor #FAFAFA
skinparam defaultFontName Arial

entity "üë§ users" as users {
  * **id** : BIGINT <<PK>>
  --
  * username : VARCHAR(50) <<UNIQUE>>
  * password : VARCHAR(255)
  * email : VARCHAR(100)
  created_at : TIMESTAMP
}

entity "üìù topics" as topics {
  * **id** : BIGINT <<PK>>
  --
  * title : VARCHAR(255)
  * message : TEXT
  * category : ENUM('JAVA', 'SPRING', 'DATABASE', ...)
  * status : ENUM('OPEN', 'IN_PROGRESS', 'RESOLVED', ...)
  * views : INT DEFAULT 0
  * active : BOOLEAN DEFAULT TRUE
  * creation_date : TIMESTAMP
  * last_modified : TIMESTAMP
  * **user_id** : BIGINT <<FK>>
}

entity "üí¨ comments" as comments {
  * **id** : BIGINT <<PK>>
  --
  * content : TEXT
  * creation_date : TIMESTAMP
  * active : BOOLEAN DEFAULT TRUE
  * **topic_id** : BIGINT <<FK>>
  * **user_id** : BIGINT <<FK>>
}

' Relationships
users ||--o{ topics : "author"
users ||--o{ comments : "author"
topics ||--o{ comments : "topic"

' Notes
note right of users : "Usuarios del sistema\nAutenticaci√≥n JWT"
note right of topics : "Topics del foro\nCategor√≠as predefinidas\nEstados de seguimiento"
note right of comments : "Comentarios por topic\nSistema de discusi√≥n\nAutorizaci√≥n por usuario"

' Indexes
note bottom of topics : "√çndices:\n- idx_category\n- idx_status\n- idx_active\n- idx_creation_date"
note bottom of comments : "√çndices:\n- idx_topic_id\n- idx_user_id\n- idx_active\n- idx_creation_date"

@enduml